{"id":"epB2","dependencies":[{"name":"/Users/vladzasoba/Documents/projects/hillel/hillel-chat-ws-backend-app/src/main/frontend/package.json","includedInParent":true,"mtime":1691497674622},{"name":"bootstrap/dist/css/bootstrap.min.css","loc":{"line":3,"column":7,"index":22},"parent":"/Users/vladzasoba/Documents/projects/hillel/hillel-chat-ws-backend-app/src/main/frontend/src/main.js","resolved":"/Users/vladzasoba/Documents/projects/hillel/hillel-chat-ws-backend-app/src/main/frontend/node_modules/bootstrap/dist/css/bootstrap.min.css"},{"name":"bootstrap","loc":{"line":4,"column":7,"index":69},"parent":"/Users/vladzasoba/Documents/projects/hillel/hillel-chat-ws-backend-app/src/main/frontend/src/main.js","resolved":"/Users/vladzasoba/Documents/projects/hillel/hillel-chat-ws-backend-app/src/main/frontend/node_modules/bootstrap/dist/js/bootstrap.esm.js"}],"generated":{"js":"\"use strict\";require(\"bootstrap/dist/css/bootstrap.min.css\"),require(\"bootstrap\");var e,t,n=document.getElementById(\"usernameInput\"),s=document.getElementById(\"connectButton\"),c=document.getElementById(\"chatList\"),a=document.getElementById(\"messageInputArea\"),i=document.getElementById(\"messageInputSection\"),o=document.getElementById(\"sendMessageButton\"),l=document.getElementById(\"userConnectForm\"),d=document.getElementById(\"disconnectButton\"),r=\"wss://tomcat.ownerofglory.com/hillel-chat-app/chat/\";n.addEventListener(\"input\",function(e){0===e.target.value.length?s.setAttribute(\"disabled\",!0):s.removeAttribute(\"disabled\")});var u=function(e){console.log(\"Incoming message\",e);var n=document.createElement(\"div\");n.classList.add(\"row\");var s=new Date(e.dateTime).toLocaleString(\"ukr\");e.service?(n.classList.add(\"event-entry-line\"),n.innerHTML='\\n      <p class=\"event-entry\">\\n        <span class=\"event-date\">'.concat(s,'</span>  <span class=\"username\">').concat(e.user,\"</span> \").concat(e.content,\"\\n      </p>\")):(n.classList.add(\"message-entry-line\"),n.innerHTML='\\n      <div class=\"'.concat(e.user==t?\"own-message\":\"\",' card message\">\\n        <div class=\"card-body message-body\">\\n          <h5 class=\"card-title\">').concat(e.user,'</h5>\\n          <h6 class=\"card-subtitle mb-2 text-body-secondary\">').concat(s,'</h6>\\n          <p class=\"card-text\">').concat(e.content,\"</p>\\n        </div>\\n      </div>\")),c.insertBefore(n,c.firstChild)},m=function(e,t){var n={content:e},s=JSON.stringify(n);t.send(s)},v=function(){e?(c.style.visibility=\"visible\",i.style.visibility=\"visible\",l.style.display=\"none\"):(c.style.visibility=\"hidden\",i.style.visibility=\"hidden\",l.style.display=\"\")};s.onclick=function(s){t=n.value,(e=new WebSocket(\"\".concat(r).concat(t))).onmessage=function(e){var t=e.data,s=JSON.parse(t);u(s),v(),n.value=\"\"}},d.onclick=function(t){e&&e.close(),e=void 0,v()},o.onclick=function(t){console.log(t);var n=a.value;e&&(m(n,e),a.value=\"\")};"},"sourceMaps":{"js":{"mappings":[{"source":"main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"main.js","name":"require","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":21}},{"source":"main.js","name":"require","original":{"line":4,"column":0},"generated":{"line":1,"column":61}},{"source":"main.js","original":{"line":4,"column":0},"generated":{"line":1,"column":69}},{"source":"main.js","original":{"line":6,"column":0},"generated":{"line":1,"column":82}},{"source":"main.js","name":"ws","original":{"line":16,"column":4},"generated":{"line":1,"column":86}},{"source":"main.js","name":"username","original":{"line":17,"column":4},"generated":{"line":1,"column":88}},{"source":"main.js","name":"usernameInput","original":{"line":6,"column":6},"generated":{"line":1,"column":90}},{"source":"main.js","name":"document","original":{"line":6,"column":22},"generated":{"line":1,"column":92}},{"source":"main.js","name":"getElementById","original":{"line":6,"column":31},"generated":{"line":1,"column":101}},{"source":"main.js","original":{"line":6,"column":46},"generated":{"line":1,"column":116}},{"source":"main.js","name":"connectButton","original":{"line":7,"column":6},"generated":{"line":1,"column":133}},{"source":"main.js","name":"document","original":{"line":7,"column":22},"generated":{"line":1,"column":135}},{"source":"main.js","name":"getElementById","original":{"line":7,"column":31},"generated":{"line":1,"column":144}},{"source":"main.js","original":{"line":7,"column":46},"generated":{"line":1,"column":159}},{"source":"main.js","name":"chatList","original":{"line":8,"column":6},"generated":{"line":1,"column":176}},{"source":"main.js","name":"document","original":{"line":8,"column":17},"generated":{"line":1,"column":178}},{"source":"main.js","name":"getElementById","original":{"line":8,"column":26},"generated":{"line":1,"column":187}},{"source":"main.js","original":{"line":8,"column":41},"generated":{"line":1,"column":202}},{"source":"main.js","name":"messageInputArea","original":{"line":9,"column":6},"generated":{"line":1,"column":214}},{"source":"main.js","name":"document","original":{"line":9,"column":25},"generated":{"line":1,"column":216}},{"source":"main.js","name":"getElementById","original":{"line":9,"column":34},"generated":{"line":1,"column":225}},{"source":"main.js","original":{"line":9,"column":49},"generated":{"line":1,"column":240}},{"source":"main.js","name":"messageInputSection","original":{"line":10,"column":6},"generated":{"line":1,"column":260}},{"source":"main.js","name":"document","original":{"line":10,"column":28},"generated":{"line":1,"column":262}},{"source":"main.js","name":"getElementById","original":{"line":10,"column":37},"generated":{"line":1,"column":271}},{"source":"main.js","original":{"line":10,"column":52},"generated":{"line":1,"column":286}},{"source":"main.js","name":"sendMessageButton","original":{"line":11,"column":6},"generated":{"line":1,"column":309}},{"source":"main.js","name":"document","original":{"line":11,"column":26},"generated":{"line":1,"column":311}},{"source":"main.js","name":"getElementById","original":{"line":11,"column":35},"generated":{"line":1,"column":320}},{"source":"main.js","original":{"line":11,"column":50},"generated":{"line":1,"column":335}},{"source":"main.js","name":"userConnectForm","original":{"line":12,"column":6},"generated":{"line":1,"column":356}},{"source":"main.js","name":"document","original":{"line":12,"column":24},"generated":{"line":1,"column":358}},{"source":"main.js","name":"getElementById","original":{"line":12,"column":33},"generated":{"line":1,"column":367}},{"source":"main.js","original":{"line":12,"column":48},"generated":{"line":1,"column":382}},{"source":"main.js","name":"disconnectButton","original":{"line":13,"column":6},"generated":{"line":1,"column":401}},{"source":"main.js","name":"document","original":{"line":13,"column":25},"generated":{"line":1,"column":403}},{"source":"main.js","name":"getElementById","original":{"line":13,"column":34},"generated":{"line":1,"column":412}},{"source":"main.js","original":{"line":13,"column":49},"generated":{"line":1,"column":427}},{"source":"main.js","name":"baseUrl","original":{"line":14,"column":6},"generated":{"line":1,"column":447}},{"source":"main.js","original":{"line":14,"column":16},"generated":{"line":1,"column":449}},{"source":"main.js","name":"usernameInput","original":{"line":19,"column":0},"generated":{"line":1,"column":503}},{"source":"main.js","name":"addEventListener","original":{"line":19,"column":14},"generated":{"line":1,"column":505}},{"source":"main.js","original":{"line":19,"column":31},"generated":{"line":1,"column":522}},{"source":"main.js","original":{"line":19,"column":40},"generated":{"line":1,"column":530}},{"source":"main.js","name":"e","original":{"line":19,"column":40},"generated":{"line":1,"column":539}},{"source":"main.js","original":{"line":22,"column":26},"generated":{"line":1,"column":542}},{"source":"main.js","name":"e","original":{"line":20,"column":19},"generated":{"line":1,"column":546}},{"source":"main.js","name":"target","original":{"line":20,"column":21},"generated":{"line":1,"column":548}},{"source":"main.js","name":"value","original":{"line":20,"column":28},"generated":{"line":1,"column":555}},{"source":"main.js","name":"length","original":{"line":22,"column":15},"generated":{"line":1,"column":561}},{"source":"main.js","name":"connectButton","original":{"line":23,"column":4},"generated":{"line":1,"column":568}},{"source":"main.js","name":"setAttribute","original":{"line":23,"column":18},"generated":{"line":1,"column":570}},{"source":"main.js","original":{"line":23,"column":31},"generated":{"line":1,"column":583}},{"source":"main.js","original":{"line":23,"column":43},"generated":{"line":1,"column":595}},{"source":"main.js","name":"connectButton","original":{"line":25,"column":4},"generated":{"line":1,"column":598}},{"source":"main.js","name":"removeAttribute","original":{"line":25,"column":18},"generated":{"line":1,"column":600}},{"source":"main.js","original":{"line":25,"column":34},"generated":{"line":1,"column":616}},{"source":"main.js","original":{"line":30,"column":0},"generated":{"line":1,"column":630}},{"source":"main.js","name":"handleMessage","original":{"line":30,"column":6},"generated":{"line":1,"column":634}},{"source":"main.js","original":{"line":30,"column":22},"generated":{"line":1,"column":636}},{"source":"main.js","name":"message","original":{"line":30,"column":23},"generated":{"line":1,"column":645}},{"source":"main.js","name":"console","original":{"line":31,"column":2},"generated":{"line":1,"column":648}},{"source":"main.js","name":"log","original":{"line":31,"column":10},"generated":{"line":1,"column":656}},{"source":"main.js","original":{"line":31,"column":14},"generated":{"line":1,"column":660}},{"source":"main.js","name":"message","original":{"line":31,"column":34},"generated":{"line":1,"column":679}},{"source":"main.js","original":{"line":33,"column":2},"generated":{"line":1,"column":682}},{"source":"main.js","name":"messageLine","original":{"line":33,"column":8},"generated":{"line":1,"column":686}},{"source":"main.js","name":"document","original":{"line":33,"column":22},"generated":{"line":1,"column":688}},{"source":"main.js","name":"createElement","original":{"line":33,"column":31},"generated":{"line":1,"column":697}},{"source":"main.js","original":{"line":33,"column":45},"generated":{"line":1,"column":711}},{"source":"main.js","name":"messageLine","original":{"line":34,"column":2},"generated":{"line":1,"column":718}},{"source":"main.js","name":"classList","original":{"line":34,"column":14},"generated":{"line":1,"column":720}},{"source":"main.js","name":"add","original":{"line":34,"column":24},"generated":{"line":1,"column":730}},{"source":"main.js","original":{"line":34,"column":28},"generated":{"line":1,"column":734}},{"source":"main.js","original":{"line":36,"column":2},"generated":{"line":1,"column":741}},{"source":"main.js","name":"formattedDateTime","original":{"line":37,"column":8},"generated":{"line":1,"column":745}},{"source":"main.js","original":{"line":36,"column":19},"generated":{"line":1,"column":747}},{"source":"main.js","name":"Date","original":{"line":36,"column":23},"generated":{"line":1,"column":751}},{"source":"main.js","name":"message","original":{"line":36,"column":28},"generated":{"line":1,"column":756}},{"source":"main.js","name":"dateTime","original":{"line":36,"column":36},"generated":{"line":1,"column":758}},{"source":"main.js","name":"toLocaleString","original":{"line":37,"column":37},"generated":{"line":1,"column":768}},{"source":"main.js","original":{"line":37,"column":52},"generated":{"line":1,"column":783}},{"source":"main.js","name":"message","original":{"line":39,"column":6},"generated":{"line":1,"column":790}},{"source":"main.js","name":"service","original":{"line":39,"column":14},"generated":{"line":1,"column":792}},{"source":"main.js","name":"messageLine","original":{"line":40,"column":4},"generated":{"line":1,"column":801}},{"source":"main.js","name":"classList","original":{"line":40,"column":16},"generated":{"line":1,"column":803}},{"source":"main.js","name":"add","original":{"line":40,"column":26},"generated":{"line":1,"column":813}},{"source":"main.js","original":{"line":40,"column":30},"generated":{"line":1,"column":817}},{"source":"main.js","name":"messageLine","original":{"line":42,"column":4},"generated":{"line":1,"column":837}},{"source":"main.js","name":"innerHTML","original":{"line":42,"column":16},"generated":{"line":1,"column":839}},{"source":"main.js","name":"concat","original":{"line":42,"column":25},"generated":{"line":1,"column":849}},{"source":"main.js","name":"concat","original":{"line":42,"column":25},"generated":{"line":1,"column":918}},{"source":"main.js","name":"formattedDateTime","original":{"line":44,"column":35},"generated":{"line":1,"column":925}},{"source":"main.js","name":"concat","original":{"line":44,"column":52},"generated":{"line":1,"column":927}},{"source":"main.js","name":"concat","original":{"line":44,"column":52},"generated":{"line":1,"column":963}},{"source":"main.js","name":"message","original":{"line":44,"column":87},"generated":{"line":1,"column":970}},{"source":"main.js","name":"user","original":{"line":44,"column":95},"generated":{"line":1,"column":972}},{"source":"main.js","name":"concat","original":{"line":44,"column":99},"generated":{"line":1,"column":977}},{"source":"main.js","name":"concat","original":{"line":44,"column":99},"generated":{"line":1,"column":989}},{"source":"main.js","name":"message","original":{"line":44,"column":110},"generated":{"line":1,"column":996}},{"source":"main.js","name":"content","original":{"line":44,"column":118},"generated":{"line":1,"column":998}},{"source":"main.js","original":{"line":45,"column":11},"generated":{"line":1,"column":1006}},{"source":"main.js","name":"messageLine","original":{"line":47,"column":4},"generated":{"line":1,"column":1024}},{"source":"main.js","name":"classList","original":{"line":47,"column":16},"generated":{"line":1,"column":1026}},{"source":"main.js","name":"add","original":{"line":47,"column":26},"generated":{"line":1,"column":1036}},{"source":"main.js","original":{"line":47,"column":30},"generated":{"line":1,"column":1040}},{"source":"main.js","name":"messageLine","original":{"line":49,"column":4},"generated":{"line":1,"column":1062}},{"source":"main.js","name":"innerHTML","original":{"line":49,"column":16},"generated":{"line":1,"column":1064}},{"source":"main.js","name":"concat","original":{"line":49,"column":25},"generated":{"line":1,"column":1074}},{"source":"main.js","name":"concat","original":{"line":49,"column":25},"generated":{"line":1,"column":1097}},{"source":"main.js","name":"message","original":{"line":50,"column":20},"generated":{"line":1,"column":1104}},{"source":"main.js","name":"user","original":{"line":50,"column":28},"generated":{"line":1,"column":1106}},{"source":"main.js","name":"username","original":{"line":50,"column":36},"generated":{"line":1,"column":1112}},{"source":"main.js","original":{"line":50,"column":47},"generated":{"line":1,"column":1114}},{"source":"main.js","original":{"line":50,"column":63},"generated":{"line":1,"column":1128}},{"source":"main.js","name":"concat","original":{"line":50,"column":65},"generated":{"line":1,"column":1131}},{"source":"main.js","name":"concat","original":{"line":50,"column":65},"generated":{"line":1,"column":1231}},{"source":"main.js","name":"message","original":{"line":52,"column":35},"generated":{"line":1,"column":1238}},{"source":"main.js","name":"user","original":{"line":52,"column":43},"generated":{"line":1,"column":1240}},{"source":"main.js","name":"concat","original":{"line":52,"column":47},"generated":{"line":1,"column":1245}},{"source":"main.js","name":"concat","original":{"line":52,"column":47},"generated":{"line":1,"column":1317}},{"source":"main.js","name":"formattedDateTime","original":{"line":53,"column":63},"generated":{"line":1,"column":1324}},{"source":"main.js","name":"concat","original":{"line":53,"column":80},"generated":{"line":1,"column":1326}},{"source":"main.js","name":"concat","original":{"line":53,"column":80},"generated":{"line":1,"column":1368}},{"source":"main.js","name":"message","original":{"line":54,"column":33},"generated":{"line":1,"column":1375}},{"source":"main.js","name":"content","original":{"line":54,"column":41},"generated":{"line":1,"column":1377}},{"source":"main.js","original":{"line":56,"column":13},"generated":{"line":1,"column":1385}},{"source":"main.js","name":"chatList","original":{"line":59,"column":2},"generated":{"line":1,"column":1424}},{"source":"main.js","name":"insertBefore","original":{"line":59,"column":11},"generated":{"line":1,"column":1426}},{"source":"main.js","name":"messageLine","original":{"line":59,"column":24},"generated":{"line":1,"column":1439}},{"source":"main.js","name":"chatList","original":{"line":59,"column":37},"generated":{"line":1,"column":1441}},{"source":"main.js","name":"firstChild","original":{"line":59,"column":46},"generated":{"line":1,"column":1443}},{"source":"main.js","name":"sendMessage","original":{"line":63,"column":6},"generated":{"line":1,"column":1456}},{"source":"main.js","original":{"line":63,"column":20},"generated":{"line":1,"column":1458}},{"source":"main.js","name":"content","original":{"line":63,"column":21},"generated":{"line":1,"column":1467}},{"source":"main.js","name":"socket","original":{"line":63,"column":30},"generated":{"line":1,"column":1469}},{"source":"main.js","original":{"line":64,"column":2},"generated":{"line":1,"column":1472}},{"source":"main.js","name":"message","original":{"line":64,"column":8},"generated":{"line":1,"column":1476}},{"source":"main.js","original":{"line":64,"column":18},"generated":{"line":1,"column":1478}},{"source":"main.js","name":"content","original":{"line":64,"column":19},"generated":{"line":1,"column":1479}},{"source":"main.js","name":"content","original":{"line":64,"column":28},"generated":{"line":1,"column":1487}},{"source":"main.js","name":"data","original":{"line":65,"column":8},"generated":{"line":1,"column":1490}},{"source":"main.js","name":"JSON","original":{"line":65,"column":15},"generated":{"line":1,"column":1492}},{"source":"main.js","name":"stringify","original":{"line":65,"column":20},"generated":{"line":1,"column":1497}},{"source":"main.js","name":"message","original":{"line":65,"column":30},"generated":{"line":1,"column":1507}},{"source":"main.js","name":"socket","original":{"line":66,"column":2},"generated":{"line":1,"column":1510}},{"source":"main.js","name":"send","original":{"line":66,"column":9},"generated":{"line":1,"column":1512}},{"source":"main.js","name":"data","original":{"line":66,"column":14},"generated":{"line":1,"column":1517}},{"source":"main.js","name":"toggleVisibility","original":{"line":69,"column":6},"generated":{"line":1,"column":1521}},{"source":"main.js","original":{"line":69,"column":25},"generated":{"line":1,"column":1523}},{"source":"main.js","name":"ws","original":{"line":70,"column":6},"generated":{"line":1,"column":1534}},{"source":"main.js","name":"chatList","original":{"line":71,"column":4},"generated":{"line":1,"column":1537}},{"source":"main.js","name":"style","original":{"line":71,"column":13},"generated":{"line":1,"column":1539}},{"source":"main.js","name":"visibility","original":{"line":71,"column":19},"generated":{"line":1,"column":1545}},{"source":"main.js","original":{"line":71,"column":32},"generated":{"line":1,"column":1556}},{"source":"main.js","name":"messageInputSection","original":{"line":72,"column":4},"generated":{"line":1,"column":1566}},{"source":"main.js","name":"style","original":{"line":72,"column":24},"generated":{"line":1,"column":1568}},{"source":"main.js","name":"visibility","original":{"line":72,"column":30},"generated":{"line":1,"column":1574}},{"source":"main.js","original":{"line":72,"column":43},"generated":{"line":1,"column":1585}},{"source":"main.js","name":"userConnectForm","original":{"line":73,"column":4},"generated":{"line":1,"column":1595}},{"source":"main.js","name":"style","original":{"line":73,"column":20},"generated":{"line":1,"column":1597}},{"source":"main.js","name":"display","original":{"line":73,"column":26},"generated":{"line":1,"column":1603}},{"source":"main.js","original":{"line":73,"column":36},"generated":{"line":1,"column":1611}},{"source":"main.js","name":"chatList","original":{"line":75,"column":4},"generated":{"line":1,"column":1620}},{"source":"main.js","name":"style","original":{"line":75,"column":13},"generated":{"line":1,"column":1622}},{"source":"main.js","name":"visibility","original":{"line":75,"column":19},"generated":{"line":1,"column":1628}},{"source":"main.js","original":{"line":75,"column":32},"generated":{"line":1,"column":1639}},{"source":"main.js","name":"messageInputSection","original":{"line":76,"column":4},"generated":{"line":1,"column":1648}},{"source":"main.js","name":"style","original":{"line":76,"column":24},"generated":{"line":1,"column":1650}},{"source":"main.js","name":"visibility","original":{"line":76,"column":30},"generated":{"line":1,"column":1656}},{"source":"main.js","original":{"line":76,"column":43},"generated":{"line":1,"column":1667}},{"source":"main.js","name":"userConnectForm","original":{"line":77,"column":4},"generated":{"line":1,"column":1676}},{"source":"main.js","name":"style","original":{"line":77,"column":20},"generated":{"line":1,"column":1678}},{"source":"main.js","name":"display","original":{"line":77,"column":26},"generated":{"line":1,"column":1684}},{"source":"main.js","original":{"line":77,"column":36},"generated":{"line":1,"column":1692}},{"source":"main.js","name":"connectButton","original":{"line":82,"column":0},"generated":{"line":1,"column":1697}},{"source":"main.js","name":"onclick","original":{"line":82,"column":14},"generated":{"line":1,"column":1699}},{"source":"main.js","original":{"line":82,"column":24},"generated":{"line":1,"column":1707}},{"source":"main.js","name":"event","original":{"line":82,"column":25},"generated":{"line":1,"column":1716}},{"source":"main.js","name":"username","original":{"line":83,"column":2},"generated":{"line":1,"column":1719}},{"source":"main.js","name":"usernameInput","original":{"line":83,"column":13},"generated":{"line":1,"column":1721}},{"source":"main.js","name":"value","original":{"line":83,"column":27},"generated":{"line":1,"column":1723}},{"source":"main.js","name":"ws","original":{"line":84,"column":2},"generated":{"line":1,"column":1730}},{"source":"main.js","original":{"line":84,"column":7},"generated":{"line":1,"column":1732}},{"source":"main.js","name":"WebSocket","original":{"line":84,"column":11},"generated":{"line":1,"column":1736}},{"source":"main.js","name":"concat","original":{"line":84,"column":20},"generated":{"line":1,"column":1746}},{"source":"main.js","name":"concat","original":{"line":84,"column":20},"generated":{"line":1,"column":1749}},{"source":"main.js","name":"baseUrl","original":{"line":84,"column":24},"generated":{"line":1,"column":1756}},{"source":"main.js","name":"concat","original":{"line":84,"column":31},"generated":{"line":1,"column":1759}},{"source":"main.js","name":"username","original":{"line":84,"column":34},"generated":{"line":1,"column":1766}},{"source":"main.js","name":"onmessage","original":{"line":85,"column":5},"generated":{"line":1,"column":1771}},{"source":"main.js","original":{"line":85,"column":17},"generated":{"line":1,"column":1781}},{"source":"main.js","name":"event","original":{"line":85,"column":17},"generated":{"line":1,"column":1790}},{"source":"main.js","original":{"line":86,"column":4},"generated":{"line":1,"column":1793}},{"source":"main.js","name":"data","original":{"line":86,"column":10},"generated":{"line":1,"column":1797}},{"source":"main.js","name":"event","original":{"line":86,"column":17},"generated":{"line":1,"column":1799}},{"source":"main.js","name":"data","original":{"line":86,"column":23},"generated":{"line":1,"column":1801}},{"source":"main.js","name":"message","original":{"line":87,"column":10},"generated":{"line":1,"column":1806}},{"source":"main.js","name":"JSON","original":{"line":87,"column":20},"generated":{"line":1,"column":1808}},{"source":"main.js","name":"parse","original":{"line":87,"column":25},"generated":{"line":1,"column":1813}},{"source":"main.js","name":"data","original":{"line":87,"column":31},"generated":{"line":1,"column":1819}},{"source":"main.js","name":"handleMessage","original":{"line":88,"column":4},"generated":{"line":1,"column":1822}},{"source":"main.js","name":"message","original":{"line":88,"column":18},"generated":{"line":1,"column":1824}},{"source":"main.js","name":"toggleVisibility","original":{"line":90,"column":4},"generated":{"line":1,"column":1827}},{"source":"main.js","name":"usernameInput","original":{"line":91,"column":4},"generated":{"line":1,"column":1831}},{"source":"main.js","name":"value","original":{"line":91,"column":18},"generated":{"line":1,"column":1833}},{"source":"main.js","original":{"line":91,"column":26},"generated":{"line":1,"column":1839}},{"source":"main.js","name":"disconnectButton","original":{"line":95,"column":0},"generated":{"line":1,"column":1844}},{"source":"main.js","name":"onclick","original":{"line":95,"column":17},"generated":{"line":1,"column":1846}},{"source":"main.js","original":{"line":95,"column":27},"generated":{"line":1,"column":1854}},{"source":"main.js","name":"event","original":{"line":95,"column":28},"generated":{"line":1,"column":1863}},{"source":"main.js","name":"ws","original":{"line":96,"column":6},"generated":{"line":1,"column":1866}},{"source":"main.js","name":"ws","original":{"line":97,"column":4},"generated":{"line":1,"column":1869}},{"source":"main.js","name":"close","original":{"line":97,"column":7},"generated":{"line":1,"column":1871}},{"source":"main.js","name":"ws","original":{"line":99,"column":2},"generated":{"line":1,"column":1879}},{"source":"main.js","name":"undefined","original":{"line":99,"column":7},"generated":{"line":1,"column":1886}},{"source":"main.js","name":"toggleVisibility","original":{"line":100,"column":2},"generated":{"line":1,"column":1888}},{"source":"main.js","name":"sendMessageButton","original":{"line":103,"column":0},"generated":{"line":1,"column":1893}},{"source":"main.js","name":"onclick","original":{"line":103,"column":18},"generated":{"line":1,"column":1895}},{"source":"main.js","original":{"line":103,"column":28},"generated":{"line":1,"column":1903}},{"source":"main.js","name":"e","original":{"line":103,"column":28},"generated":{"line":1,"column":1912}},{"source":"main.js","name":"console","original":{"line":104,"column":2},"generated":{"line":1,"column":1915}},{"source":"main.js","name":"log","original":{"line":104,"column":10},"generated":{"line":1,"column":1923}},{"source":"main.js","name":"e","original":{"line":104,"column":14},"generated":{"line":1,"column":1927}},{"source":"main.js","original":{"line":105,"column":2},"generated":{"line":1,"column":1930}},{"source":"main.js","name":"content","original":{"line":105,"column":8},"generated":{"line":1,"column":1934}},{"source":"main.js","name":"messageInputArea","original":{"line":105,"column":18},"generated":{"line":1,"column":1936}},{"source":"main.js","name":"value","original":{"line":105,"column":35},"generated":{"line":1,"column":1938}},{"source":"main.js","name":"ws","original":{"line":106,"column":6},"generated":{"line":1,"column":1944}},{"source":"main.js","name":"sendMessage","original":{"line":107,"column":4},"generated":{"line":1,"column":1948}},{"source":"main.js","name":"content","original":{"line":107,"column":16},"generated":{"line":1,"column":1950}},{"source":"main.js","name":"ws","original":{"line":107,"column":25},"generated":{"line":1,"column":1952}},{"source":"main.js","name":"messageInputArea","original":{"line":108,"column":4},"generated":{"line":1,"column":1955}},{"source":"main.js","name":"value","original":{"line":108,"column":21},"generated":{"line":1,"column":1957}},{"source":"main.js","original":{"line":108,"column":29},"generated":{"line":1,"column":1963}}],"sources":{"main.js":"'use strict';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap';\n\nconst usernameInput = document.getElementById('usernameInput')\nconst connectButton = document.getElementById('connectButton')\nconst chatList = document.getElementById('chatList')\nconst messageInputArea = document.getElementById('messageInputArea')\nconst messageInputSection = document.getElementById('messageInputSection')\nconst sendMessageButton = document.getElementById('sendMessageButton')\nconst userConnectForm = document.getElementById('userConnectForm')\nconst disconnectButton = document.getElementById('disconnectButton')\nconst baseUrl = 'wss://tomcat.ownerofglory.com/hillel-chat-app/chat/'\n\nlet ws;\nlet username;\n\nusernameInput.addEventListener('input', e => {\n  const username = e.target.value\n\n  if (username.length === 0) {\n    connectButton.setAttribute('disabled', true)\n  } else {\n    connectButton.removeAttribute('disabled')\n  }\n\n})\n\nconst handleMessage = (message) => {\n  console.log('Incoming message', message)\n\n  const messageLine = document.createElement('div')\n  messageLine.classList.add('row')\n\n  const dateTime = new Date(message.dateTime)\n  const formattedDateTime = dateTime.toLocaleString('ukr')\n\n  if (message.service) {\n    messageLine.classList.add('event-entry-line')\n\n    messageLine.innerHTML = `\n      <p class=\"event-entry\">\n        <span class=\"event-date\">${formattedDateTime}</span>  <span class=\"username\">${message.user}</span> ${message.content}\n      </p>`\n  } else {\n    messageLine.classList.add('message-entry-line')\n\n    messageLine.innerHTML = `\n      <div class=\"${message.user == username ? 'own-message' : ''} card message\">\n        <div class=\"card-body message-body\">\n          <h5 class=\"card-title\">${message.user}</h5>\n          <h6 class=\"card-subtitle mb-2 text-body-secondary\">${formattedDateTime}</h6>\n          <p class=\"card-text\">${message.content}</p>\n        </div>\n      </div>`\n  }\n  \n  chatList.insertBefore(messageLine, chatList.firstChild)\n  // chatList.appendChild(messageLine)\n}\n\nconst sendMessage = (content, socket) => {\n  const message = {content: content}\n  const data = JSON.stringify(message)\n  socket.send(data)\n}\n\nconst toggleVisibility = () => {\n  if (ws) {\n    chatList.style.visibility = 'visible'\n    messageInputSection.style.visibility = 'visible'\n    userConnectForm.style.display = 'none'\n  } else {\n    chatList.style.visibility = 'hidden'\n    messageInputSection.style.visibility = 'hidden'\n    userConnectForm.style.display = ''\n  }\n  \n}\n\nconnectButton.onclick = (event) => {\n  username = usernameInput.value\n  ws = new WebSocket(`${baseUrl}${username}`)\n  ws.onmessage = event => {\n    const data = event.data\n    const message = JSON.parse(data)\n    handleMessage(message)\n\n    toggleVisibility()\n    usernameInput.value = ''\n  }\n}\n\ndisconnectButton.onclick = (event)  => {\n  if (ws) {\n    ws.close()\n  }\n  ws = undefined\n  toggleVisibility()\n}\n\nsendMessageButton.onclick = e => {\n  console.log(e)\n  const content = messageInputArea.value\n  if (ws) {\n    sendMessage(content, ws)\n    messageInputArea.value = ''\n  }\n}\n\n\n"},"lineCount":null}},"error":null,"hash":"8cc85d0097f9ca4108b6ea53918576d6","cacheData":{"env":{}}}